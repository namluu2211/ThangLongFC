/* ===== Đội hình Tab Layout & Aesthetic ===== */

:host { display:block; }

/* CSS Variables */
:root {
   --color-bg-deep:#172233;
   --color-surface:#ffffff;
   --color-accent-blue:#1877f2;
   --color-accent-orange:#ff8c42;
   --color-accent-green:#1fa860;
   --color-chip:#3a4a68;
   --radius-card:18px;
   --shadow-elev:0 10px 32px -8px rgba(0,0,0,.30),0 2px 8px rgba(0,0,0,.15);
}

.modern-container { max-width:1220px; margin:0 auto; padding:18px 18px 60px; box-sizing:border-box; }

/* Background layered gradient (page) */
body, .modern-container::before { background:linear-gradient(135deg,#6956b8 0%,#7c6ad1 40%,#8a74e2 70%,#9a80f0 100%); }

/* Header Card */
.players-header { background:#fff; color:#1a2330; border-radius:18px; padding:28px 30px 22px; box-shadow:0 10px 32px -8px rgba(0,0,0,.30),0 2px 8px rgba(0,0,0,.15); position:relative; margin-bottom:18px; }
.players-header .page-title { margin:0; font-size:24px; font-weight:700; display:flex; align-items:center; gap:10px; letter-spacing:.5px; }
.players-header .page-subtitle { margin:6px 0 0; font-size:13px; opacity:.65; font-weight:500; }

/* Compact Toolbar (replaces chip bar) */
.players-toolbar { position:sticky; top:6px; z-index:60; display:flex; align-items:center; justify-content:space-between; gap:12px; margin:0 0 18px; background:rgba(255,255,255,.28); padding:10px 14px; border-radius:16px; backdrop-filter:blur(8px); box-shadow:0 6px 20px -6px rgba(50,30,90,.45),0 2px 6px rgba(0,0,0,.18); }
.players-toolbar .toolbar-left,.players-toolbar .toolbar-right { display:flex; gap:8px; align-items:center; }
.players-toolbar .toolbar-center { flex:1; display:flex; justify-content:center; }
.players-toolbar .mode-indicator { font-size:12px; font-weight:600; color:#fff; background:rgba(40,30,70,.55); padding:4px 12px; border-radius:20px; letter-spacing:.4px; box-shadow:0 2px 6px rgba(0,0,0,.25); }
.players-toolbar .tl-btn { background:rgba(255,255,255,.78); border:1px solid rgba(255,255,255,.55); color:#2c3550; padding:6px 12px; font-size:12px; border-radius:10px; display:inline-flex; align-items:center; gap:6px; cursor:pointer; font-weight:600; line-height:1; letter-spacing:.3px; transition:background .18s, box-shadow .18s, transform .18s; }
.players-toolbar .tl-btn.primary { background:#3b35dd; color:#fff; border-color:#3b35dd; }
.players-toolbar .tl-btn:disabled { opacity:.45; cursor:not-allowed; }
.players-toolbar .tl-btn:hover:not(:disabled) { background:#ffffff; box-shadow:0 4px 12px rgba(0,0,0,.25); transform:translateY(-2px); }
.players-toolbar .tl-btn.primary:hover:not(:disabled) { background:#4a44f2; }
.players-toolbar .tl-btn:focus-visible { outline:2px solid #ffcf66; outline-offset:2px; }

/* Player List Card */
app-player-list .player-list-card { background:#f0eefc!important; border:1px solid #d8d1f4; border-radius:16px; padding:16px 16px 10px; box-shadow:0 10px 26px -8px rgba(36,18,90,.35),0 2px 6px rgba(0,0,0,.12); }
app-player-list .list-header h3 { font-size:18px; font-weight:600; color:#2c2350; }
app-player-list .players-grid { margin-top:10px; }
app-player-list .player-card { background:#ffffff; border:1px solid #d4d0e8; }
app-player-list .player-card.registered { background:#e5f8e5; border-color:#b4e4b4; }
app-player-list .avatar-wrapper { border:1px solid #b6c8da; }
app-player-list .name { color:#1d2c3b; }
app-player-list .position { color:#405b78; }
app-player-list .icon-btn { background:#ffffff; border:1px solid #d9e2ec; color:#274766; }
app-player-list .icon-btn:hover { background:#274766; color:#fff; }
app-player-list .icon-btn.danger { background:#ffe8e8; border-color:#ffc9c9; color:#a62828; }
app-player-list .icon-btn.danger:hover { background:#d63737; color:#fff; }
app-player-list .pagination-controls { margin-top:4px; }

/* Match Events */
.match-events { margin-top:30px; }
.events-title { margin:0 0 14px; font-size:16px; font-weight:600; color:#2c2350; letter-spacing:.4px; display:flex; align-items:center; gap:8px; }
.events-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:18px; }
.events-card { background:#ffffff; border:1px solid #d8d1f4; border-radius:14px; padding:14px 16px 12px; box-shadow:0 6px 20px -6px rgba(50,30,90,.25),0 2px 6px rgba(0,0,0,.08); }
.events-card.team-a { border-top:4px solid #06b2ff; }
.events-card.team-b { border-top:4px solid #ffd740; }
.events-card h4 { margin:0 0 10px; font-size:14px; letter-spacing:.5px; text-transform:uppercase; opacity:.75; }
.event-group + .event-group { margin-top:14px; }
.event-group h5 { margin:0 0 8px; font-size:12px; text-transform:uppercase; letter-spacing:.5px; opacity:.65; }
.inline-form { display:flex; gap:6px; flex-wrap:wrap; margin-bottom:8px; }
.inline-form select, .inline-form input { background:#f7f6fd; border:1px solid #d1caeb; border-radius:8px; padding:4px 8px; font-size:12px; min-width:90px; }
.inline-form button { background:#ece8fa; border:1px solid #d4cdef; color:#4d3acb; width:34px; height:32px; border-radius:8px; cursor:pointer; display:flex; align-items:center; justify-content:center; }
.inline-form button:hover { background:#ded7f4; }
.event-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:4px; }
.event-list li { display:flex; align-items:center; gap:6px; background:#f8f7fe; border:1px solid #e2dcf5; padding:4px 8px; border-radius:8px; font-size:11px; }
.event-list .remove { background:transparent; border:none; color:#a33; cursor:pointer; font-size:14px; line-height:1; }
.event-list .remove:hover { color:#e00000; }
.badge.goal { background:#e9fff2; color:#156f32; padding:2px 8px; border-radius:14px; font-weight:600; }
.badge.yc { background:#fff8e1; color:#8a6d00; padding:2px 8px; border-radius:14px; font-weight:600; }
.badge.rc { background:#ffebee; color:#b71c1c; padding:2px 8px; border-radius:14px; font-weight:600; }

/* Finance Summary */
.finance-summary { margin-top:38px; }
.finance-title { margin:0 0 16px; font-size:16px; font-weight:600; color:#2c2350; display:flex; align-items:center; gap:8px; letter-spacing:.4px; }
.finance-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:18px; }
.finance-card { background:#ffffff; border:1px solid #d8d1f4; border-radius:16px; padding:16px 18px 14px; box-shadow:0 6px 22px -6px rgba(50,30,90,.25),0 2px 6px rgba(0,0,0,.08); position:relative; }
.finance-card h4 { margin:0 0 12px; font-size:14px; text-transform:uppercase; letter-spacing:.5px; opacity:.75; }
.fin-row { display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; font-size:12px; }
.fin-row label { flex:1; }
.fin-row input { width:110px; background:#f7f6fd; border:1px solid #d1caeb; padding:4px 6px; border-radius:8px; font-size:12px; }
.fin-total { margin-top:8px; font-size:12px; font-weight:600; color:#312b53; background:#f9f8fe; padding:6px 8px; border-radius:8px; border:1px solid #e2dcf5; }
.finance-card.summary { display:flex; flex-direction:column; gap:8px; }
.fin-row.flat { margin-bottom:0; }
.profit { margin-top:6px; font-weight:600; font-size:13px; color:#09a37f; padding:8px 10px; border:1px solid #8ce7d2; border-radius:10px; background:linear-gradient(145deg,#e9fff9,#dcfdf5); letter-spacing:.4px; }
.profit.negative { color:#d03737; border-color:#f8b8b8; background:linear-gradient(145deg,#fff1f1,#ffe2e2); }

/* Teams Panel */
app-teams-panel .teams-container { margin-top:26px; }
app-teams-panel .teams-row { display:grid; grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); gap:20px; }
app-teams-panel .team-card { background:#ffffff; border-radius:16px; box-shadow:0 10px 28px -8px rgba(0,0,0,.3),0 2px 6px rgba(0,0,0,.15); display:flex; flex-direction:column; }
app-teams-panel .team-header { display:flex; align-items:center; justify-content:space-between; padding:14px 18px; font-weight:600; letter-spacing:.3px; border-radius:16px 16px 0 0; color:#fff; }
app-teams-panel .team-header.team-a { background:linear-gradient(135deg,#1877f2,#1b5fb8); }
app-teams-panel .team-header.team-b { background:linear-gradient(135deg,#ff8c42,#e4681c); }
app-teams-panel .score-section { display:flex; align-items:center; gap:8px; font-size:12px; }
app-teams-panel .score-input { width:70px; padding:4px 6px; border:1px solid #c5d1e0; border-radius:8px; font-size:13px; }
app-teams-panel .team-content { padding:14px 16px 12px; }
app-teams-panel .section-title { margin:0 0 8px; font-size:12px; letter-spacing:.5px; text-transform:uppercase; opacity:.6; }
app-teams-panel .team-players { display:flex; flex-wrap:wrap; gap:8px; min-height:70px; padding:10px; border:2px dashed #d0dae5; border-radius:12px; background:linear-gradient(145deg,#f6f9fc,#f1f5f9); }
app-teams-panel .team-member { background:#eef5fb; border:1px solid #c6d8e6; border-radius:10px; padding:6px 8px; display:flex; align-items:center; gap:6px; position:relative; box-shadow:0 2px 6px rgba(0,0,0,.08); transition:box-shadow .2s,transform .2s; }
app-teams-panel .team-member:hover { box-shadow:0 4px 14px rgba(0,0,0,.18); transform:translateY(-2px); }
app-teams-panel .player-avatar { width:26px; height:26px; object-fit:cover; border-radius:50%; border:1px solid #b8cad8; background:#fff; }
app-teams-panel .player-name { font-size:12px; font-weight:600; color:#1d2c3b; max-width:90px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
app-teams-panel .delete-btn { position:absolute; top:2px; right:4px; background:transparent; border:none; color:#a33; cursor:pointer; font-size:14px; line-height:1; }
app-teams-panel .delete-btn:hover { color:#e00000; }

/* Drag ghost visibility fix */
[cdkdragpreview] { box-shadow:0 6px 18px rgba(0,0,0,.35); border-radius:10px; }

/* AI Button region */
.mt-3 { margin-top:26px!important; }

/* Utility Modern Buttons (override minimal) */
.modern-btn { cursor:pointer; }

/* Analyzing overlay */
.analyzing-overlay { position:fixed; inset:0; background:rgba(15,22,33,.72); display:flex; align-items:center; justify-content:center; z-index:200; backdrop-filter:blur(4px); }
.analyzing-overlay .spinner { width:68px; height:68px; border:6px solid rgba(255,255,255,.15); border-top-color:var(--color-accent-blue); border-radius:50%; animation:spin 0.8s linear infinite; }
.analyzing-overlay .label { margin-top:18px; text-align:center; font-size:14px; font-weight:600; letter-spacing:.5px; color:#fff; }
@keyframes spin { to { transform:rotate(360deg); } }

/* Responsive adjustments */
@media (max-width:840px){
   .players-toolbar { flex-wrap:wrap; justify-content:flex-start; }
   app-teams-panel .teams-row { grid-template-columns:1fr; }
   .players-header .page-title { font-size:20px; }
}

@media (max-width:560px){
   app-player-list .players-grid { grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); }
   app-teams-panel .team-players { padding:8px; }
   app-teams-panel .team-member { padding:5px 6px; }
}
